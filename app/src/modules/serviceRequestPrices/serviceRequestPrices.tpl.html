<div class="container">
    <div class="col-md-8 col-md-offset-2 thumbnail">
        <div class="col-md-9">
            <h2>Price List: <span id='serviceRequestName'>{{serviceRequest.name}}</span>
            </h2>
            Price Request Limit: {{serviceRequest.priceRequestLimit}}<br/>
            Estado: {{serviceRequest.status.name}}
        </div>
        <div>
            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th class="ng-binding ng-scope">Name</th>
                        <th class="ng-binding ng-scope">Last Name</th>
                        <th class="ng-binding ng-scope">Status</th>
                        <th class="ng-binding ng-scope">Price</th>
                        <th class="ng-binding ng-scope">Description</th>
                        <th class="ng-binding ng-scope">Actions</th>
                    </tr>
                </thead>
                <tr ng-repeat='item in data' ng-if="data.length > 0">
                    <td>{{item.contractor.name}}</td>
                    <td>{{item.contractor.lastName}}</td>
                    <td class='price-state'>{{item.priceRequestStatus}}</td>
                    <td><span ng-show="currentDate>=priceRequestLimit">{{item.price}}</span></td>
                    <td><span ng-show="currentDate>=priceRequestLimit">{{item.description}}</span></td>
                    <td>
                        <button class="create-chat-btn btn btn-success btn-sm ng-binding ng-scope" ng-click="create( item.contractor.id  )" 
                            ng-show="serviceRequest.status.id==1 || item.priceRequestStatus == 'CONTRATADO'">
                            <span class="glyphicon glyphicon-plus"></span>Create Chat
                        </button>
                        <button class="go-chat-btn btn btn-primary btn-sm ng-binding ng-scope" ng-click="goChat( item.contractor.id  )"
                            ng-show="serviceRequest.status.id==1 || item.priceRequestStatus == 'CONTRATADO'">
                            <span class="glyphicon glyphicon-comment"></span>
                            Go to Chat
                        </button>
                        <button class="hire-btn btn btn-success btn-sm ng-binding ng-scope" ng-click="hire( item )"
                            ng-show="serviceRequest.status.id==1 && currentDate>=priceRequestLimit">
                            <span class="glyphicon glyphicon-ok"></span> Hire
                        </button>
                    </td>
                </tr>
            </table>
        </div>
    </div>
</div>
